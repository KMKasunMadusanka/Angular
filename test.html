<html ng-app="usertask">
<base href="/">

<head>
    <!--BOOTSTRAP CSS IMPORT-->
    <link rel="stylesheet" href="centroid-web/user-task-pages/dependency/css/bootstrap.min.css">
    <!--CUSTOM CSS IMPORT-->
    <link rel="stylesheet" href="centroid-web/user-task-pages/dependency/css/custom.css">
    <!--ADD YOUR DEPENDENCIES (CSS)-->
    <!--Q JS IMPORT-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/q.js"></script>
    <!--JQUERY JS IMPORT-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/jquery-3.1.1.min.js"></script>
    <!--BOOTSTRAP JS IMPORT-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/bootstrap.min.js"></script>
    <!--ANGULAR JS IMPORT-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/angular.min.js"></script>
    <!--ADD YOUR DEPENDENCIES (JS)-->
    <!--DO NOT CHANGE OR DELETE-->
    <!--SPEED JS IMPORT-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/speedservices.js"></script>
    <!--DO NOT CHANGE OR DELETE-->
    <!--ANGULAR MODULE-->
    <script type="text/javascript">
        var usertask = angular.module('usertask', []);
    </script>
    <!--DO NOT CHANGE OR DELETE-->
    <!--ACCELLO CONFIG-->
    <script type="text/javascript" src="centroid-web//config.js"></script>
    <!--ANGULAR CONFIG-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/angular/config.js"></script>
    <!--CUSTOM JS IMPORT-->
    <script type="text/javascript" src="centroid-web/user-task-pages/dependency/js/custom.js"></script>
    <!--DO NOT CHANGE OR DELETE-->
    <!--ANGULAR CONTROLLER-->
    <script type="text/javascript">
        usertask.controller('UserTaskController', function($scope, $accello) { /*------------------- DO NOT CHANGE OR DELETE -------------------*/
            $scope.inputParam = {};
            $scope.inputs = [];
            $scope._init = function() {
                $accello._init().then(function(data) {
                    $scope.inputParam = data._input;
                    $scope.inputParam['InputTableView'] = JSON.parse($scope.inputParam['InputTableView']);
                    $scope.inputParam['NameList'] = JSON.parse($scope.inputParam['NameList']);
                    console.log($scope.inputParam);
                }, function(err) {
                    console.error(err);
                });
            };
            $scope._save = function() {
                $scope.inputs[0] = JSON.stringify($scope.OutputArray);
                $accello._save($scope.inputs);
            }; /*------------------- DO NOT CHANGE OR DELETE -------------------*/ /*---------- ADD YOUR CONTROLLER CODE HERE ------------*/


            $scope.persentLawyers=[
                {"Name":"Prabath Udayanga"},
                {"Name":"Dilshani Bandara"},
                {"Name":"Ranura Ashvin disssanayake"}
            ];

            //$scope.mode = 'true';

            $scope.OutputArray =[];

            $scope.addDataToArray = function (val) {
//                console.log($scope.OutputData);
                $scope.OutputArray.push(val);
                console.log($scope.OutputArray);
            }

        });
    </script>
</head>

<body ng-controller="UserTaskController" ng-init="_init()">
<div class="container">
    <h1 style="font-family: sans-serif; color: midnightblue;">Letter of Demand Lawyer Availability</h1>
</div>
<p><br /><br /></p>
<div>
    <div class="container">
        <table class="table table-striped">
            <tbody>
            <tr>
                <td style="width: 50%;">
                    <p><b> Select Lawyer Product Type :    <select ng-model="searchContent.Temporary_Category">
                        <option value="">All product type</option>
                        <option value="Cards_Non_WOFF">Cards_Non_WOFF</option>
                        <option value="Personal_Non_WOFF">Personal_Non_WOFF</option>
                        <option value="Housing_Non_WOFF">Housing_Non_WOFF</option>
                        <option value="Auto_Loan_Non_WOFF">Auto_Loan_Non_WOFF</option>
                        <option value="Personal_Loan_Non_WOFF">Personal_Loan_Non_WOFF</option>
                    </select></b></p>
                </td>
                <td>
                    <p><b> Availability :    <select ng-model="searchContent.Availability">
                        <option value="">All</option>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select></b></p>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <br /> <br />
    <div class="container">
        <table ng-model="TableView" class="table table-striped">
            <tbody>
            <tr>
                <th>ID</th>
                <th>Name Of the Lawyer</th>
                <th>Product Type</th>
                <th>Availability</th>
                <th>Change Availability</th>
                <!--<th>Replacement</th>-->
                <th>Add to category</th>
                <th>Remove from current product type</th>
                <th>Save Changers</th>
            </tr>
            <!--inputParam['InputTableView']-->
            <tr ng-repeat="lawyer in inputParam['InputTableView'] | filter:searchContent">
                <td>{{lawyer.No}}</td>
                <td>{{lawyer.Name}}</td>
                <td>{{lawyer.Temporary_Category}}</td>
                <td><label ng-if="lawyer.Availability==true">Yes</label> <label ng-if="lawyer.Availability==false">No</label></td>
                <td><input type="radio" name="{{lawyer.Name+lawyer.No}}" value="true" ng-model="lawyer.NewAvailability" ng-init="lawyer.NewAvailability='Non'" />Yes     <input type="radio" name="{{lawyer.Name+lawyer.No}}" value="false" ng-model="lawyer.NewAvailability" ng-init="lawyer.NewAvailability='Non'" />No <!--ng-checked="lawyer.availability==true"--> <!--ng-checked="lawyer.availability==false"--></td>
                <td><select ng-model="lawyer.NewlawyerName" ng-init="lawyer.NewlawyerName='Non'">
                    
                    <!--inputParam['NameList']-->
                    <option ng-repeat="lawyers in inputParam['NameList']">{{lawyers.Name}}</option>
                </select><br /> <input type="radio" ng-model="lawyer.LawyerReplacement" value="true" name="{{lawyer.Availability+lawyer.No}}" ng-init="lawyer.LawyerReplacement='Non'"/>Assign to this product type<br /> <input type="radio" ng-model="lawyer.LawyerReplacement" value="false" name="{{lawyer.Availability+lawyer.No}}" ng-init="lawyer.LawyerReplacement='Non'"/>Assign to both product types</td>
                <td style="text-align: center;"><input type="checkbox" ng-model="lawyer.deleteValue" name="{{lawyer.Temporary_Category+lawyer.No}}" ng-init="lawyer.deleteValue='Non'"/>  </td>
                <td><input type="button" value="Save" class="btn btn-primary" ng-click="addDataToArray(lawyer)" /></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div style="left: 0px; bottom: 0px; height: 60px; width: 100%; background: #D0D0D0; padding: 15px; display: table;">
    <div style="font-size: 15px; font-weight: bold; color: #3e4eb8;">Accello Usertask Template</div>
    <div style="font-size: 12px; font-style: italic;">© Virtusa | Polaris</div>
    <div style="display: table-cell; vertical-align: middle;">
        <div style="position: absolute; width: 20%;"><span id="usertaskMsgHeaderSpan" style="font-weight: bold;"></span><span id="usertaskMsgContentSpan" style="word-wrap: break-word; font-size: 11px; letter-spacing: 0.5px;"></span></div>
        <button style="vertical-align: middle; display: block; width: 40%; margin: 0 auto; padding: 5px 10px; border-radius: 5px; background: #3E4EB8; color: #fff; outline: none; float: right;" type="button" ng-click="_save()">Perform Task</button></div>
</div>
</body>

</html>